<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <title>ForkLift</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

	<link rel="stylesheet" href="css/animate.css" />
  	<link rel="stylesheet" href="css/bootstrap.min.css">
  	<link rel="stylesheet" href="css/main.css">
  	<link rel="stylesheet" href="css/style.css">

<style>
.Loading {
	display: inline-block;
	vertical-align: middle;
	background-position: center;
	background: no-repeat;
	background-image:
		url('data:image/gif;base64,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');
	width: 20px;
	height: 20px;
	margin-top: 6px;
	margin-right: 7px;
}
</style>

</head>


<!--  Page Directory: @_PAGEDIRECTORY_@ -->

<body ng-app="forkliftmonitor">

<div class="col-lg-12"  ng-controller="ForkLiftControler as forkliftctrl">

	<div class="bs-component" >
		<center>
		<table><tr><td><h1>Forklift</h1></td><td rowspan="2"><img src="img/forklift.jpg" width="150" heigth="150" /></td></tr>
			<tr><td style="font-size:0.8em"> V1.4.1</td></tr>
			<tr><td>
				
			</td></tr>
		</table>
		</center>
	</div>

	<div class="bs-component" >
		<h3><span class="glyphicon glyphicon-th"></span>
			<a href="#" ng-click="forkliftctrl.showsources = ! forkliftctrl.showsources" style="text-decoration:none">					
  				<span ng-show="forkliftctrl.showsources" class="glyphicon glyphicon-chevron-down" style="font-size: 18px;"></span>
 				</a>
			<a href="#" ng-click="forkliftctrl.showsources = ! forkliftctrl.showsources" style="text-decoration:none">					
				<span ng-show="! forkliftctrl.showsources" class="glyphicon glyphicon-chevron-right"  style="font-size: 18px;"></span>
			</a>
		Configuration</h3>
		<div ng-show="forkliftctrl.showsources">		

			<!--  --------------------------------------------------------- Source -->
			<legend class="text-primary">Source</legend>
			
			<table class="table table-striped table-hover table-condensed">
				<tbody ng-repeat="source in forkliftctrl.config.sources track by $index">
				
					<tr ng-show="source.type=='Dir'">
						<td>
							<span class="explanation">All files behind this directory is immediately loaded</span><p>
							Directory: <input type="text" ng-model="source.directory" size="60">
						</td>
						<td>
							<button ng-click="forkliftctrl.removeOneSource( source )"  class="btn btn-danger btn-xs">Remove</button>
						</td>
					</tr>
					
					<tr ng-show="source.type=='Bonita'">
						<td>
							<span class="explanation">The external Bonita Server is called, and the artefacts are compare to the local server. All new artefact are loaded.</span><p>
							<table>
							<tr><td>Bonita server Host:</td><td> <input type="text" ng-model="source.host"  ></td></tr>
							<tr><td>Bonita server Port:</td><td> <input type="text" ng-model="source.port" ></td></tr>
							<tr><td>Login:</td><td> <input type="text" ng-model="source.login" ></td></tr>
							<tr><td>Password:</td><td> <input type="password" ng-model="source.password" ></td></tr>
							<tr><td colspan="2">
								<button ng-click="forkliftctrl.testConnection( source )"  class="btn btn-primary btn-xs">Test connection</button>
								<div ng-bind-html="forkliftctrl.getListEvents(source.listevents)"></div>
							
							</table>
						</td>
						<td>
							<button ng-click="forkliftctrl.removeOneSource( source )"  class="btn btn-danger btn-xs">Remove</button>
						</td>
					</tr>
				</tbody>		
			</table>
			
			
			
			Add a source:
			<select ng-model="forkliftctrl.config.toadd" style="width: 150px;">
					<option ng-repeat="oneconf in forkliftctrl.config.options" value="{{oneconf.type}}">{{oneconf.name}}</option>
			</select>
			<button ng-click="forkliftctrl.addOneSource( forkliftctrl.config.toadd )"  class="btn btn-primary btn-xs"  ng-disabled="forkliftctrl.config.wait">Add</button>
			
			<!--  --------------------------------------------------------- Frequency 
			<legend class="text-primary">Frequency</legend>
			<input type="checkbox" ng-model="forkliftctrl.frequency.active">Active<p>
			<span class="explanation">Active and fix the frequency of the verification</span><p>
			Months <input type="number" ng-model="forkliftctrl.frequency.months" ng-disabled="!forkliftctrl.frequency.active" size="3">
			Days <input type="number" ng-model="forkliftctrl.frequency.days" ng-disabled="!forkliftctrl.frequency.active" size="3">
			Hours <input type="number" ng-model="forkliftctrl.frequency.hours" ng-disabled="!forkliftctrl.frequency.active" size="3">
			Minutes <input type="number" ng-model="forkliftctrl.frequency.minutes" ng-disabled="!forkliftctrl.frequency.active" size="3">
			Seconds <input type="number" ng-model="forkliftctrl.frequency.secondes" ng-disabled="!forkliftctrl.frequency.active" size="3">
			-->
			
			<!--  --------------------------------------------------------- Content -->
			<legend class="text-primary">Content</legend>
	
			<input type="checkbox" ng-model="forkliftctrl.config.content.layout"  		>Layout</input>
			<input type="checkbox" ng-model="forkliftctrl.config.content.theme"    		>Theme</input>
			<input type="checkbox" ng-model="forkliftctrl.config.content.lookandfeel" 	>Look and feel</input>
			<!-- <input type="checkbox" ng-model="forkliftctrl.config.content.bdm"			ng-disabled="1==1">Business Data Model</input>-->			
			<input type="checkbox" ng-model="forkliftctrl.config.content.organization" 	>Organization</input>
			<input type="checkbox" ng-model="forkliftctrl.config.content.restapi"		>RestAPI</input>
			<input type="checkbox" ng-model="forkliftctrl.config.content.pages"     	>Pages</input>
			<input type="checkbox" ng-model="forkliftctrl.config.content.process"		>Process</input>
			<input type="checkbox" ng-model="forkliftctrl.config.content.profile"		>Profiles</input>
			<input type="checkbox" ng-model="forkliftctrl.config.content.livingapp"		>Living Application</input>
			<button ng-click="forkliftctrl.checkContent( true )"  class="btn btn-info btn-xs" >Check All</button>			
			
			
			<p>
			<span ng-show="forkliftctrl.config.wait"> 
				<span class="Loading">.</span> 
			</span>
			<button ng-click="forkliftctrl.saveConfiguration()"  class="btn btn-success btn-lg" ng-disabled="forkliftctrl.config.wait">Save</button>			
			<div ng-bind-html="forkliftctrl.getListEvents(forkliftctrl.config.listevents)"></div>
		</div>						
	</div>
	
	
	
	<div class="bs-component" >
		<legend class="text-primary"><span class="glyphicon glyphicon-th"></span>Monitoring</legend>
		
		
		<center>
			<span ng-show="forkliftctrl.synchronisation.wait"> 
				<span class="Loading">.</span> 
			</span>
			<button ng-click="forkliftctrl.synchronisationDetect()"  class="btn btn-info" ng-disabled="forkliftctrl.synchronisation.wait">Detection</button><p>
		</center>
		
		<!--  what to display -->
		<div class="label label-info">
		Show:
		<input type="checkbox" ng-model="forkliftctrl.showartefact.layout">Layout</input>
		<input type="checkbox" ng-model="forkliftctrl.showartefact.theme">Theme</input>
		<input type="checkbox" ng-model="forkliftctrl.showartefact.lookandfeel">Look and feel</input>
		<!--  <input type="checkbox" ng-model="forkliftctrl.showartefact.bdm">BDM</input> -->
		<input type="checkbox" ng-model="forkliftctrl.showartefact.organization">Organization</input>
		<input type="checkbox" ng-model="forkliftctrl.showartefact.restapi"		>RestAPI</input>
		<input type="checkbox" ng-model="forkliftctrl.showartefact.pages"     	>Pages</input>
		<input type="checkbox" ng-model="forkliftctrl.showartefact.process"		>Process</input>
		<input type="checkbox" ng-model="forkliftctrl.showartefact.profile"		>Profiles</input>
		<input type="checkbox" ng-model="forkliftctrl.showartefact.livingapp"	>Living Application</input>
		</div>
		<table class="table table-striped table-hover table-condensed">
			<tr >
				<th>Type</th>
				<th>Name</th>
				<th>Version</th>
				<th>Date</th>
				<th>Analysis</th>
				<th style="background:#fcf8e3">Current version</th>
				<th style="background:#fcf8e3">Deployed date</th>
				<th colspan="2">Decision</th>
			</tr>
			<tbody ng-repeat="item in forkliftctrl.getItems() track by $index">
			<tr >
				<td>{{item.type}}</td>
				<td>{{item.name}}</td>
				<td>{{item.version}}</td>
				<td>{{item.date}}</td>
				<td>{{item.report}}</td>
				<td style="background:#fcf8e3">{{item.presentversion}}</td>
				<td style="background:#fcf8e3">{{item.presentdate}}</td>
				<td>
					<span ng-show="item.detectionstatus=='NEWARTEFAC'" class="label label-success">New Artifact</span>
					<span ng-show="item.detectionstatus=='SAME'"       class="label label-Warning">Same</span>
					<span ng-show="item.detectionstatus=='OLDVERSION'" class="label label-danger">Old Version</span>
					<span ng-show="item.detectionstatus=='NEWVERSION'" class="label label-info">New</span>
				</td>
					
				<td>
					<div ng-show="item.invaliddecision == true">
						Done
					</div>
					<div ng-show="! item.invaliddecision == true">					
						<select ng-model="item.action" style="width: 150px;">
							<option ng-repeat="onestatus in forkliftctrl.synchronisation.actions" value="{{onestatus.type}}" ng-selected="item.action==onestatus.type">{{onestatus.name}}</option>
						</select>
					</div>
					<br>
					
						<span ng-show="item.deploystatus=='NOTHINGDONE'" class="label label-warning">Nothing done</span>
						<span ng-show="item.deploystatus=='NEWALREADYINPLACE'" class="label label-warning">New already in place</span>
						<span ng-show="item.deploystatus=='REMOVEFAIL'" class="label label-danger">Remove failed done</span>
						<span ng-show="item.deploystatus=='LOADFAILED'" class="label label-danger">Load failed</span>
						<span ng-show="item.deploystatus=='DEPLOYEDFAILED'" class="label label-danger">Deployment failed</span>
						<span ng-show="item.deploystatus=='LOADED'" class="label label-info">Loaded (deployed, not enabled)</span>
						<span ng-show="item.deploystatus=='DEPLOYED'" class="label label-success">Deployed</span>
						<span ng-show="item.deploystatus=='DELETED'" class="label label-success">Removed</span>
						
						
				
					<div ng-bind-html="forkliftctrl.getListEvents( item.listevents )"></div>		
				</td>
				
			</tr>
			</tbody>
		</table>
		<center>
			<span ng-show="forkliftctrl.synchronisation.wait"> 
				<span class="Loading">.</span> 
			</span>
		
			<button ng-click="forkliftctrl.synchronisationExecute()"  class="btn btn-warning" ng-disabled="forkliftctrl.synchronisation.wait">Apply</button><p>
		</center>
		
		<div ng-bind-html="forkliftctrl.getListEvents(forkliftctrl.synchronisation.listevents)"></div>
		<textarea ng-model="forkliftctrl.synchronisation.report" rows="20" style="width:100%;" readonly></textarea>
		<p>

	

</div>



<!-- Third party dependencies -->


<script src="js/jquery.min.js"></script>

<script src="js/angular.min.js"></script>

<script src="js/angular-resource.min.js"></script>
<script src="js/angular-cookies.min.js"></script>

<script src="js/bootstrap.min.js"></script>
<script src="js/angular-sanitize.min.js"></script>
<script src="js/angular-file-upload.js"></script>
<script src="js/ng-google-chart.js"></script>


<!-- Application dependencies -->
<script src="pageResource?page=custompage_forklift&location=forkliftmonitor.js&v=@_CURRENTTIMEMILIS_@"></script>

</body>
</html>
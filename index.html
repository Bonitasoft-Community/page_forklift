<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <title>ForkLift</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

	<link rel="stylesheet" href="css/animate.css" />
  	<link rel="stylesheet" href="css/bootstrap.min.css">
  	<link rel="stylesheet" href="css/main.css">
  	<link rel="stylesheet" href="css/style.css">

<style>
.Loading {
	display: inline-block;
	vertical-align: middle;
	background-position: center;
	background: no-repeat;
	background-image:
		url('data:image/gif;base64,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');
	width: 20px;
	height: 20px;
	margin-top: 6px;
	margin-right: 7px;
}
</style>

</head>


<!--  Page Directory: @_PAGEDIRECTORY_@ -->

<body ng-app="forkliftmonitor">

<div class="col-lg-12"  ng-controller="ForkLiftControler as ctrl">

	<div class="bs-component" >
		<center>
		<table><tr><td><h1>Forklift</h1></td><td rowspan="2"><img src="img/forklift.jpg" width="150" heigth="150" /></td></tr>
			<tr><td style="font-size:0.8em"> V1.5.0 Sept 2 2020</td></tr>
			<tr><td>
				
			</td></tr>
		</table>
		</center>
	</div>

	<div class="bs-component" >
	
		<ul class="nav nav-tabs"  ng-class="{'nav-stacked': vertical, 'nav-justified': justified}" style="border-bottom: 1px solid #c2c2c2;">
			<li ng-class="{active: active, disabled: false}" id="form-tab" heading="All" active="true" title="Artifacts" select="ctrl.navbaractiv == 'Artifacts'" class="{{ctrl.getNavClass('Artifacts')}}" style="{{ctrl.getNavStyle('Artifacts')}}">
				  <a ng-click="ctrl.navbaractiv = 'Artifacts';"   class="ng-binding">Artifacts</a>
			</li>
			
			<li ng-class="{active: active, disabled: false}" id="form-tab" heading="All" active="true" title="Parameters" select="ctrl.navbaractiv == 'Parameters'" class="{{ctrl.getNavClass('Parameters')}}" style="{{ctrl.getNavStyle('Parameters')}}">
				  <a ng-click="ctrl.navbaractiv = 'Parameters';"   class="ng-binding">Parameters</a>
			</li>
			
			
		</ul>
	</div> <!--  end navigation -->
	
	<!--  ************************************************************  -->	
	<!--  Detection 		 										-->
	<!--  ************************************************************  -->		
	
	<div class="bs-component"  ng-if="ctrl.navbaractiv == 'Artifacts'">
		<p>	
		
		
		<center>
			<span ng-show="ctrl.synchronisation.wait"> 
				<span class="Loading">.</span> 
			</span>
			<button ng-click="ctrl.synchronisationDetect()"  class="btn btn-info" ng-disabled="ctrl.synchronisation.wait">Detection</button><p>
		</center>
		
		<!--  what to display -->
		<div class="label label-info">
		Show:
		<input type="checkbox" ng-model="ctrl.showartefact.layout">Layout</input>
		<input type="checkbox" ng-model="ctrl.showartefact.theme">Theme</input>
		<input type="checkbox" ng-model="ctrl.showartefact.lookandfeel">Look and feel</input>
		<!--  <input type="checkbox" ng-model="ctrl.showartefact.bdm">BDM</input> -->
		<input type="checkbox" ng-model="ctrl.showartefact.organization">Organization</input>
		<input type="checkbox" ng-model="ctrl.showartefact.restapi"		>RestAPI</input>
		<input type="checkbox" ng-model="ctrl.showartefact.pages"     	>Pages</input>
		<input type="checkbox" ng-model="ctrl.showartefact.process"		>Process</input>
		<input type="checkbox" ng-model="ctrl.showartefact.profile"		>Profiles</input>
		<input type="checkbox" ng-model="ctrl.showartefact.livingapp"	>Living Application</input>
		</div>
		<table class="table table-striped table-hover table-condensed">
			<tr >
				<th>Type</th>
				<th>Name</th>
				<th>Version</th>
				<th>Date</th>
				<th>Analysis</th>
				<th style="background:#fcf8e3">Current version</th>
				<th style="background:#fcf8e3">Deployed date</th>
				<th colspan="2">Decision</th>
			</tr>
			<tbody ng-repeat="item in ctrl.getItems() track by $index">
			<tr >
				<td>{{item.type}}</td>
				<td><a title="Store: {{item.bonitastoredisplayname}}">{{item.bonitaname}}</a></td>
				<td style="font-size: 10px">{{item.version}}</td>
				<td style="font-size: 10px">{{item.date}}</td>
				<td>{{item.report}}</td>
				<td style="background:#fcf8e3;font-size: 10px">{{item.presentversion}}</td>
				<td style="background:#fcf8e3;font-size: 10px">{{item.presentdate}}</td>
				<td>
					<span ng-if="item.detectionstatus == 'NEWARTEFAC'" class="label label-success">New Artifact</span>
					<span ng-if="item.detectionstatus == 'SAME'"       class="label label-warning">Same</span>
					<span ng-if="item.detectionstatus == 'OLDVERSION'" class="label label-danger">Old Version</span>
					<span ng-if="item.detectionstatus == 'NEWVERSION'" class="label label-info">New</span>
					<span ng-if="item.detectionstatus == 'UNDETERMINED'" class="label label-info">Undetermined</span>
				</td>
					
				<td>
					<div ng-show="item.invaliddecision == true">
						Done
					</div>
					<div ng-show="! item.invaliddecision == true">					
						<select ng-model="item.action" style="width: 150px;">
							<option ng-repeat="onestatus in ctrl.synchronisation.actions" value="{{onestatus.type}}" ng-selected="item.action==onestatus.type">{{onestatus.name}}</option>
						</select>
					</div>
					<br>
					
						<span ng-show="item.deploystatus=='NOTHINGDONE'" class="label label-warning">Nothing done</span>
						<span ng-show="item.deploystatus=='NEWALREADYINPLACE'" class="label label-warning">New already in place</span>
						<span ng-show="item.deploystatus=='REMOVEFAIL'" class="label label-danger">Remove failed done</span>
						<span ng-show="item.deploystatus=='LOADFAILED'" class="label label-danger">Load failed</span>
						<span ng-show="item.deploystatus=='DEPLOYEDFAILED'" class="label label-danger">Deployment failed</span>
						<span ng-show="item.deploystatus=='LOADED'" class="label label-info">Loaded (deployed, not enabled)</span>
						<span ng-show="item.deploystatus=='DEPLOYED'" class="label label-success">Deployed</span>
						<span ng-show="item.deploystatus=='DELETED'" class="label label-success">Removed</span>
						
						
				
					<div ng-bind-html="ctrl.getListEvents( item.listevents )"></div>		
				</td>
				
			</tr>
			</tbody>
		</table>
		<center>
			<span ng-show="ctrl.synchronisation.wait"> 
				<span class="Loading">.</span> 
			</span>
		
			<button ng-click="ctrl.synchronisationExecute()"  class="btn btn-warning" ng-disabled="ctrl.synchronisation.wait">Apply</button><p>
		</center>
		
		<div ng-bind-html="ctrl.getListEvents(ctrl.synchronisation.listevents)"></div>
		<input type="checkbox" ng-model="ctrl.showreport">Detail report
		<div ng-if="ctrl.showreport">
			<textarea ng-model="ctrl.synchronisation.report" rows="20" style="width:100%;" readonly></textarea>
		</div>
	</div>

	
	<!--  ************************************************************  -->	
	<!--  parameter 		 										-->
	<!--  ************************************************************  -->		
	<div class="bs-component" ng-if="ctrl.navbaractiv == 'Parameters'">		
		<p>
		<!--  --------------------------------------------------------- Source -->
		<table class="table table-striped table-hover">
			<tbody ng-repeat="source in ctrl.config.sources track by $index">
				<tr>
					<td colspan="3" style="background-color:aliceblue">
						{{source.title}}
						<span class="explanation">{{source.explanation}}</span><p>

					</td>
				</tr>
				<tr>
					<td>
						Name:
					</td>
					<td>
						<input type="text" ng-model="source.displayname" size="30" ng-disabled="ctrl.config.wait">
						<button ng-click="ctrl.removeOneSource( source )"  class="btn btn-danger btn-xs" ng-disabled="ctrl.config.wait">Remove</button>
					</td>
				</tr>
				<tr ng-show="source.type=='Dir'">
					<td>
						Monitor Directory:
					</td>
					<td>
						<input type="text" ng-model="source.directory" size="60" ng-disabled="ctrl.config.wait">
					</td>
				</tr>
				
				<tr ng-show="source.type=='BCD'">
					<td>
						Target Directory:
					</td>
					<td>
					 	<input type="text" ng-model="source.directory" size="60" ng-disabled="ctrl.config.wait">
					</td>
				</tr>
				
				
				<tr ng-show="source.type=='Bonita'">
					<td>
						<span class="explanation">The external Bonita Server is called, and the artifacts are compare to the local server. All new artifact are loaded.</span><p>
						<table>
						<tr><td>Bonita server Host:</td><td> <input type="text" ng-model="source.host"  ></td></tr>
						<tr><td>Bonita server Port:</td><td> <input type="text" ng-model="source.port" ></td></tr>
						<tr><td>Login:</td><td> <input type="text" ng-model="source.login" ></td></tr>
						<tr><td>Password:</td><td> <input type="password" ng-model="source.password" ></td></tr>
						<tr><td colspan="2">
							<button ng-click="ctrl.testConnection( source )"  class="btn btn-primary btn-xs">Test connection</button>
							<div ng-bind-html="ctrl.getListEvents(source.listevents)"></div>
						
						</table>
					</td>
					<td>
						<button ng-click="ctrl.removeOneSource( source )"  class="btn btn-danger btn-xs" ng-disabled="ctrl.config.wait">Remove</button>
					</td>
				</tr>
			</tbody>		
		</table>
		
			
		
		Add a source:
		<select ng-model="ctrl.config.toadd" style="width: 150px;" ng-disabled="ctrl.config.wait">
				<option ng-repeat="oneconf in ctrl.config.options" value="{{oneconf.type}}">{{oneconf.name}}</option>
		</select>
		<button ng-click="ctrl.addOneSource( ctrl.config.toadd )"  class="btn btn-primary btn-xs"  ng-disabled="ctrl.config.wait">Add</button>
		
		<!--  --------------------------------------------------------- Frequency 
			<legend class="text-primary">Frequency</legend>
			<input type="checkbox" ng-model="ctrl.frequency.active">Active<p>
			<span class="explanation">Active and fix the frequency of the verification</span><p>
			Months <input type="number" ng-model="ctrl.frequency.months" ng-disabled="!ctrl.frequency.active" size="3">
			Days <input type="number" ng-model="ctrl.frequency.days" ng-disabled="!ctrl.frequency.active" size="3">
			Hours <input type="number" ng-model="ctrl.frequency.hours" ng-disabled="!ctrl.frequency.active" size="3">
			Minutes <input type="number" ng-model="ctrl.frequency.minutes" ng-disabled="!ctrl.frequency.active" size="3">
			Seconds <input type="number" ng-model="ctrl.frequency.secondes" ng-disabled="!ctrl.frequency.active" size="3">
			-->
			
			<!--  --------------------------------------------------------- Content -->
			<legend class="text-primary">Content</legend>
	
			<table>
			<tr>
			<td style="padding-left:10px;vertical-align:top"><input type="checkbox" ng-model="ctrl.config.content.layout"  		>Layout</input></td>
			<td style="padding-left:10px;vertical-align:top"><input type="checkbox" ng-model="ctrl.config.content.theme"    		>Theme</input></td>
			<td style="padding-left:10px;vertical-align:top"><input type="checkbox" ng-model="ctrl.config.content.lookandfeel" 	>Look and feel</input></td>
			<!-- <input type="checkbox" ng-model="ctrl.config.content.bdm"			ng-disabled="1==1">Business Data Model</input>-->			
			<td style="padding-left:10px;vertical-align:top"><input type="checkbox" ng-model="ctrl.config.content.organization" 	>Organization</input></td>
			<td style="padding-left:10px;vertical-align:top"><input type="checkbox" ng-model="ctrl.config.content.restapi"		>RestAPI</input></td>
			<td style="padding-left:10px;vertical-align:top"><input type="checkbox" ng-model="ctrl.config.content.custompage"     	>Pages</input></td>
			<td style="padding-left:10px;vertical-align:top"><input type="checkbox" ng-model="ctrl.config.content.process"		>Process</input><br>
				<input type="checkbox" ng-model="ctrl.config.content.processenable"			ng-disabled="!ctrl.config.content.process"	> Enabled immediately the process<br>
				<input type="checkbox" ng-model="ctrl.config.content.processmanageractor"	ng-disabled="!ctrl.config.content.process"	> Actor 'ProcessManager' is used to generate the Process Manager<br>
				<input type="checkbox" ng-model="ctrl.config.content.processcategory"		ng-disabled="!ctrl.config.content.process"> In the process's description, 'Category:<Name>,<Name>' are exploded to register the process in category
			</td>
			
			<td style="padding-left:10px;vertical-align:top"><input type="checkbox" ng-model="ctrl.config.content.profile"		>Profiles</input></td>
			<td style="padding-left:10px;vertical-align:top"><input type="checkbox" ng-model="ctrl.config.content.livingapp"		>Living Application</input></td>
			</tr>
			<tr><td colspan="9"><button ng-click="ctrl.checkContent( true )"  class="btn btn-info btn-xs" style="width:100%">Check All</button></td></tr>
			</table>
						
			
			
			<p>
			
			<center>
			<span ng-show="ctrl.synchronisation.wait"> 
				<span class="Loading">.</span> 
			</span>
			<button ng-click="ctrl.saveConfiguration()"  class="btn btn-success" ng-disabled="ctrl.config.wait">Save</button>
		</center>
			
						
			<div ng-bind-html="ctrl.getListEvents(ctrl.config.listevents)"></div>
		</div>	

</div>



<!-- Third party dependencies -->


<script src="js/jquery.min.js"></script>

<script src="js/angular.min.js"></script>

<script src="js/angular-resource.min.js"></script>
<script src="js/angular-cookies.min.js"></script>

<script src="js/bootstrap.min.js"></script>
<script src="js/angular-sanitize.min.js"></script>


<!-- Application dependencies -->
<script src="pageResource?page=custompage_forklift&location=forkliftmonitor.js&v=@_CURRENTTIMEMILIS_@"></script>

</body>
</html>